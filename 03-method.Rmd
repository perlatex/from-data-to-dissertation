# 数据说明及描述性统计


```{r, message=FALSE, warning=FALSE}
library(tidyverse)
library(gt)

raw <- read_rds(here::here("rawdata", "trans_cfps.rds"))
```

## 数据来源及变量说明
### 数据来源

本文研究的是教育人力资本的代际传递问题，所使用的数据来自 2016 年的中国家庭追
踪调查数据 (CFPS)。这个数据是通过跟踪收集个体、家庭、社区三个层次的数据，反映中
国社会、经济、人口、教育和健康的变迁，为学术研究和公共政策分析提供数据基础。为了
保障样本的质量,本文选取了出生日期在 1970 年到 1989 年这段时间的被调查者。包括被调
查者的受教育情况及其父母的受教育情况，并基于城乡户籍、性别、健康水平和政治面魏等
因素，总共选取了 8510 个样本。



### 变量说明

#### 受教育程度

本文的被解释变量为子女的受教育水平, 解释变量是父亲的受教育水平和母亲的受教育
水平。在 CFPS 的问卷中，对于学历的回答包括“文言/半文言、小学、初中、高中 (中专/
技校/职高) 、大专、大学本科、硕士、搏士”这八种，其中没读完小学的被视为“文言/半
文盲”。根据被调查者及其父母的最高学历，用受教育年限来表示受教育水平，最高学历为
“文盲/半文盲”=1, “小学”=6,  “初中”=9,  “高中 (中专/技校/职高) ”=12, “大专” =15，
“大学本科”=16, “硕士”=19,  “博士”=22。被调查者的受教育水平用 Ed 表示，父亲的受
教育水平用F_ed 表示，母亲的受教育水平用 M_ed 表示。

#### 控制变量

为了研究教育人力资本的代际传递在城乡之间是否存在差异, 加入城乡控制变量, 包括
居住地及户籍两方面，并引入虚拟变量。 子女的户籍分为农业户口和非农业户口，其中非农
户口=1，农业户口=0; 子女居住地也分为城市和乡村，城市=1，乡村=0。为了研究教育人力
资本的代际传递在性别方面是否存在差异，加入性别控制变量，男性=1，女性=0。还需要控
制其他可能的因素，比如被调查者的出生年份、所在地区、政治面角、健康水平和婚姻状况
等。 控制变量的具体赋值包括: 健康状况方面, 不健康=1, 一般=2， 比较健康=3，很健康=4，
非常健康=5;婚姻方面，已婚=1，未婚-0; 党员身份方面，是党员=1，不是党员=0， 所在地
区方面，西部=1，中部=2，东部=3。详见表 \@ref(tab:tab-var)。


```{r tab-var}
readxl::read_excel("./files/variables.xlsx") %>%
  gt::gt(caption = "变量说明") %>% 
  gt::cols_width(
    `变量类型` ~ px(100),	
    `变量名称` ~ px(100),
    `符号表示` ~ px(100)
  )
```



## 描述性统计

### 基本描述性统计


```{r, eval=FALSE, echo=FALSE}
mystats <- function(x) {
  v <- c(n = length(x), mean = mean(x), sd = sd(x), min = min(x), max = max(x))
  round(v, 2)
}


raw %>% 
  select(-pid, -F_ed, -M_ed) %>%  
  purrr::map_dfr(.f = mystats, .id = "var")
```


```{r tab-child-stats}
raw %>% 
  select(-pid, -F_ed, -M_ed) %>% 
  psych::describe() %>% 
  gt(caption = "子女相关信息统计性描述")
```

从表 \@ref(tab:tab-child-stats) 中可以看出，子女的平均受教育水平为8.74年，接近九年义务教育水平。在性别方面，可以看出样本中，男性占化为 54.9%，女性占比为45.1%。男性样本略高与女性样本。在居住地方面，城市居民的样本占比为49.9%，可以推算出乡村居民的样本占比为50.1%，样本比例基本持平。在户厌方面，非农业户口的样本占比为26.6%，可以推算出农业户口的样本占比为73.4，样本中非农业户口所占比重较大。在婚姻状况方面，接近92%的样本是已婚状态，仅有8的样本未婚。在健康状况方面，平均状况是比较健康。在政治面貌方面，仅有8.2%的样本是党员身份，91.7%的样本是非党员身份。在出生年份方面，70后和80后的样本数量大体相等。

```{r, eval=FALSE, echo=FALSE}
raw %>%
  mutate(generation = case_when(
    between(year, 1970, 1979) ~ "70s",
    between(year, 1980, 1989) ~ "80s",
    TRUE ~ "other"
  )) %>%
  count(generation)
```

```{r tab-parents-stats}
raw %>% 
  select(F_ed, M_ed) %>% 
  psych::describe() %>% 
  gt(caption = "父母受教育水平统计性描述")
```



从表 \@ref(tab:tab-parents-stats) 可以看出，父亲的受教育水平均值为 6.19，母亲的受教育水平均值为4.14，父亲学历的平均水平达到了小学，而母亲学历的平均水平未达到小学。说明 70 后和 80 后的父亲的平均受教育水平要高于母亲的平均受教育水平, 这也符合我们日常的婚姻逻辑。在传统的婚姻市场上，一般要求学历上的“门当户对”，而且一般男方学历要大于或等于女方学历,一方面这种夫妻之间的教育匹配模式将会显著地提高夫妻关系融洽的可能性，另一方面这样教育匹配模式使得家庭收入方面主要来自较高学历的父亲, 而较低学历的母亲一般承担更多的教育子女以及家庭事务，也就是传统的“男主外，女主内”的家庭特点。


```{r tab-parents-edu}
raw %>%
  select(F_ed, M_ed) %>%
  mutate(
    across(everything(), ~ if_else(.x > 16, 16, .x))
  ) %>%
  mutate(
    across(everything(), as_factor)
  ) %>%
  pivot_longer(
    cols = everything()
  ) %>%
  count(name, value) %>%
  pivot_wider(
    names_from = name,
    values_from = n
  ) %>%
  mutate(
    F_ed_percent = F_ed / sum(F_ed),
    M_ed_percent = M_ed / sum(M_ed)
  ) %>%
  bind_rows(
    summarise(., value = "total", across(-value, sum))
  ) %>%
  mutate(
    across(ends_with("_percent"), scales::percent)
  ) %>%
  mutate(value = case_match(
    value,
    "1"     ~ "文盲/半文盲",
    "6"     ~ "小学",
    "9"     ~ "初中",
    "12"    ~ "高中",
    "15"    ~ "大专",
    "16"    ~ "本科",
    "19"    ~ "硕士及上",
    "total" ~ "合计"
  )) %>% 
  gt(caption = "父母受教育水平分布情况")
```



从表 \@ref(tab:tab-parents-edu) 中可以看出，在文盲/半文盲的分布中，母亲所占比重高达 54.39%，远高于父亲的 30.18%。在之后的小学、初中、高中以及大专及以上，父亲的比重都高于母亲的比重，其中小学高出6个百分点，初中高出10个百分点，高中高出6.6个百分点，大专及以上共高出1.5个百分点，其中初中差距最大。父亲的整体受教育水平高于母亲，可以看出中国的教育在性别方面存在不公平现象。尤其是在20世纪,男性相对能够享受到更多的教育资源，主要因为老一辈的重男轻女现象比较严重，教育方面认为“女子无才便是德”，导致女性文盲及半文盲比重较高。尤其是在农村地区这种思想更为严重，而本文所取的样本中，农村户籍的人口占比较大,使得这种现象在表中展现的更为明显。但是随着改革开放，中国经济快速增长，中国的教育规模不断扩大,教育水平不断提高。政府在教育方面的财政支出增长很快，使得教育方面男女不平等的问题得到了很大的改善，加上计划生育政策的影响，子女数量比较少，导致父母对子女的教育方面的投资很少存在性别方面的差异，使得总体上性别上的差异越来越小。

```{r tab-child-edu}
raw %>% 
  select(Ed) %>% 
  mutate(
    across(Ed, ~if_else(.x > 19, 19, .x))
  ) %>% 
  mutate(
    across(everything(), as_factor)
  ) %>%
  count(Ed) %>%
  mutate(
    percent = n / sum(n)
  ) %>%
  bind_rows(
    summarise(., Ed = "total", across(-Ed, sum))
  ) %>%
  mutate(
    across(ends_with("percent"), scales::percent)
  ) %>%
  mutate(Ed = case_match(
    Ed,
    "1"     ~ "文盲/半文盲",
    "6"     ~ "小学",
    "9"     ~ "初中",
    "12"    ~ "高中",
    "15"    ~ "大专",
    "16"    ~ "本科",
    "19"    ~ "硕士及上",
    "total" ~ "合计"
  )) %>% 
  gt(caption = "子女受教育水平分布情况")
```



从表 \@ref(tab:tab-child-edu) 可以看出，子女的受教育水平处于文盲/半文盲的人数所占为 13.49%，远低于父亲的 30.18%和母亲的54.39%，小学以下学历的人数不断减少。子女的受教育水平达到初中及以上学历的比例为64%，高于父亲的39.3%和和母亲的21.25%，完成九年义务教育的人数比例增长较快，说明国家在基础教育方面不断改进和完善，基础教育实力增强。在高等教育方面, 子女的受教育水平为大专及以上的占比达到16%,增长速度较快,远高于父辈的2.32%和母辈的0.75%。主要由于我国经济的飞速发展，教育水平不断改善，教育投资经费日益增多，高等教育实力增强，另一方面，20 世纪未，中国高等院校的扩招使得考上大学的难度
降低，能够接受到高等教育的人数占比增长较快。


### 子女受教育水平的性别差异

```{r tab-child-edu-gender}
raw %>%
  select(gender, Ed) %>%
  mutate(
    across(Ed, ~ if_else(.x > 19, 19, .x))
  ) %>%
  count(gender, Ed) %>%
  pivot_wider(
    names_from = gender,
    values_from = n
  ) %>%
  rename(female = `0`, male = `1`) %>%
  mutate(
    across(
      .cols = c(female, male),
      .fns = ~ .x / sum(.x),
      .names = "{.col}_percent"
    )
  ) %>% 
  mutate( across(Ed, as_factor) ) %>%
  bind_rows(
    summarise(., Ed = "total", across(-Ed, sum))
  ) %>%
  mutate(
    across(ends_with("_percent"), scales::percent)
  ) %>%
  mutate(Ed = case_match(
    Ed,
    "1"     ~ "文盲/半文盲",
    "6"     ~ "小学",
    "9"     ~ "初中",
    "12"    ~ "高中",
    "15"    ~ "大专",
    "16"    ~ "本科",
    "19"    ~ "硕士及上",
    "total" ~ "合计"
  )) %>% 
  gt(caption = "子女受教育水平按性别分布情况")
```

从表 \@ref(tab:tab-child-edu-gender) 可以看出, 子女受教育水平在性别方面存在差异，男性的受教育水平总体上高
于女性，可能是由于我国重男轻女思想的影响，尤其是在农村地区这种思想更为严重，而所
取的样本中，农村户籍的人口占比较大。具体来看，在小学及以下学历的占比中，女性为
40.59%，男性为 32.03%; 在中等教育占比方面，女性为 43.61%，男性为 51.47%; 在高等教
育占比方面, 女性为 15.8%，男性为 16.5%。可以看出差别主要在小学教育和中等教育方面，
而在高等教育方面，性别盖异则不明显。 在基础教育方面，重男轻女现象比较严重，尤其是
落后的农村地区.他们认为女孩不需要上学,或者只读完小学, 会识字和基础的算术就够了，
没必要再往上读，加上家庭经济整体并不富裕，会优先让男孩去读书,如果有剩余的经济才
会让女孩去读。而在高等教育方面，性别差异则不明显，一方面子女能达到高等教育的，父
母的受教育水平一般都不低。父母的受教育水平较高的话，更重视对子女的教育，性别歧视
的观念会很小。



### 子女受教育水平的出生年份的差异

```{r tab-child-edu-year}
raw %>%
  select(year, Ed) %>%
  mutate(
   Ed = if_else(Ed > 19, 19, Ed)
  ) %>%
  mutate(generation = case_when(
    between(year, 1970, 1979) ~ "70s",
    between(year, 1980, 1989) ~ "80s",
    TRUE ~ "other"
  )) %>%
  count(generation, Ed) %>%
  pivot_wider(
    names_from = generation,
    values_from = n
  ) %>%
  mutate(
    across(
      .cols = -Ed,
      .fns = ~ .x / sum(.x),
      .names = "{.col}_percent"
    )
  ) %>% 
  
  mutate( across(Ed, as_factor) ) %>%
  bind_rows(
    summarise(., Ed = "total", across(-Ed, sum))
  ) %>%
  mutate(
    across(ends_with("_percent"), scales::percent)
  ) %>%
  mutate(Ed = case_match(
    Ed,
    "1"     ~ "文盲/半文盲",
    "6"     ~ "小学",
    "9"     ~ "初中",
    "12"    ~ "高中",
    "15"    ~ "大专",
    "16"    ~ "本科",
    "19"    ~ "硕士及上",
    "total" ~ "合计"
  )) %>% 
  gt(caption = "子女受教育水平按出生年份分布情况")
```

从表 \@ref(tab:tab-child-edu-year) 中可以看出，80后的受教育水平要高于70后，80后的文盲/半文盲的比重为7.18%，低于70后的19.65%。这说明随着时代的进步，中国居民越来越注重教育，小学以下学历的人数越来越少,能够完成九年义务教育的人数不断增加。在高等教育方面，也就是大专及以上学历, 80后占比为 23. 06%, 70后的占比为9.45%,高等教育的增长速度非常快。一方面是因为20世纪末我国高等院校的扩招，另一方面是因为我国教育投资不断增多，教育质量不断提高，不论是基础教育还是高等教育，整体的教育实力都在不断地发展和进步。在1978年,我国高校年毕业生人数只有 16.5万, 大学生人数还很稀少,但是到了2018年，我国高校年毕业生人数达到820万，40年间增加了近50倍。"曾经相对稀奇的大学生，如今早已遍地开花.大学本科学历成为很多单位招聘的基本条件, 可见我国教育事业的飞速发展。



### 子女受教育水平的城乡差异


```{r tab-child-edu-urban}
raw %>%
  select(urban, Ed) %>%
  mutate(
   Ed = if_else(Ed > 19, 19, Ed)
  ) %>%
  count(urban, Ed) %>%
  pivot_wider(
    names_from = urban,
    values_from = n
  ) %>%
  rename(`农村居民` = `0`, `城市居民` = `1`) %>%
  mutate(
    across(
      .cols = -Ed,
      .fns = ~ .x / sum(.x),
      .names = "{.col}_percent"
    )
  ) %>% 
  
  mutate( across(Ed, as_factor) ) %>%
  bind_rows(
    summarise(., Ed = "total", across(-Ed, sum))
  ) %>%
  mutate(
    across(ends_with("_percent"), scales::percent)
  ) %>%
  mutate(Ed = case_match(
    Ed,
    "1"     ~ "文盲/半文盲",
    "6"     ~ "小学",
    "9"     ~ "初中",
    "12"    ~ "高中",
    "15"    ~ "大专",
    "16"    ~ "本科",
    "19"    ~ "硕士及上",
    "total" ~ "合计"
  )) %>% 
  gt(caption = "子女受教育水平按城乡居民分布情况")
```


从表 \@ref(tab:tab-child-edu-urban) 中可以看出，子女的受教育水平存在着较大的城乡位置差异。 农村居民的文盲/
办文盲的比重达到 20.37% 而城市居民的文盲/半文盲比重只有 6.59%, 农村居民的小学及以
下学历的比重为 49.8%，而城市居民的该比重为 21.93%，这个阶段的学历差异，城乡居民之
间表现的较为严重。在高等教育方面，农村居民大专及以上学历占比为 6.45%，而城市居民
的大专及以上学历的占比为 25.9%。可见在教育方面，无论是基础教育还是高等教育，城
市居民的子女受教育水平都高与农村居民的子女, 城乡差异比较显著。主要因为城乡之间的
教育资源的差异，城市居民能够享受到更好的教育资源。



```{r tab-child-edu-hukou}
raw %>%
  select(hukou, Ed) %>%
  mutate(
   Ed = if_else(Ed > 19, 19, Ed)
  ) %>%
  count(hukou, Ed) %>%
  pivot_wider(
    names_from = hukou,
    values_from = n
  ) %>%
  rename(`农业户口` = `0`, `非农业户口` = `1`) %>%
  mutate(
    across(
      .cols = -Ed,
      .fns = ~ .x / sum(.x),
      .names = "{.col}_percent"
    )
  ) %>% 
  
  mutate( across(Ed, as_factor) ) %>%
  bind_rows(
    summarise(., Ed = "total", across(-Ed, sum))
  ) %>%
  mutate(
    across(ends_with("_percent"), scales::percent)
  ) %>%
  mutate(Ed = case_match(
    Ed,
    "1"     ~ "文盲/半文盲",
    "6"     ~ "小学",
    "9"     ~ "初中",
    "12"    ~ "高中",
    "15"    ~ "大专",
    "16"    ~ "本科",
    "19"    ~ "硕士及上",
    "total" ~ "合计"
  )) %>% 
  gt(caption = "子女受教育水平按城乡户籍分布情况")
```



从表 \@ref(tab:tab-child-edu-hukou) 中可以看出, 子女的受教育水平存在着较大的城乡户籍差异。农村户籍的文言
/办文盲的比重达到 17.49%, 而城市户籍的文盲/半文盲比重只有 2.47%，农村户籍的小学及
以下学历的比重为 45%，而城市户籍的该比重只有 10%，这个阶段的学历差异，城乡户籍之
间较为显著。在高等教育方面，农村户籍大专及以上学历占比为 6.73%，而城市户籍的大专
及以上学历的占比为 42.25%，差异之大让人震惊。可见在教育方面，无论是基础教育还是
高等教育，城市户籍子女的受教育水平都远高于农村户籍子女,城乡差异非常显著。主要原
因有以下方面第一, 经济实力的差异。城市户籍父母的收入水平一般要高于农村户籍父母，
他们用于孩子的教育支出比较多，比如给予女请家教、课外辅导和各种培训班等。第二，教
育观念的差异。城市户籍父母的学历水平一般相对较高，更重视对子女的教育,陪伴子女的
时间更长，同时注重与子女之间的沟通交流，对子女有更高的教育期望。另外其子女本身的
受教育期望也比较高, 学习更加努力, 增加了接受高等教育的机会。第三, 教育资源的差异。
城市户籍的子女一般享受更多的教育资源, 无论是所在学校的学习环境还是师资力量都比较
高。他们掌握更科学的学习方法和更多的学习技巧, 同时他们的父母利用自身的资源关系网，
能够上更好的学校， 接受更好的教育。但是对于农村户籍的子女来说，由于户籍等因素的姜
异，上学会遇到很多麻烦。尤其是农村户籍的子女随父母外出打工时，不少学校有严格户籍
限制， 他们很难去教学质量较好的学校，只能去私立学校或者教育质量相对差的学校。因此
在教育资源方面，农村户籍和城市户籍的子女的差距较大。第四,子女数量的差异。城市户
籍父母的子女数量比较少,尤其是计划生育全面实行之后，大多数是独生子女，父母会把全
部的资源给一个孩子, 加上城市户籍的父母本身资源又比较多。而农村户籍父母的女子数量
相对比较多，独生子女比较少,但是农村户籍的父母本身拥有的资源就比较少,还要平分给
多个孩子, 这样相对的在单个孩子的教育投入方面会造成很大的差距，导致城乡户籍的子女
教育差距比较大。某些教育政策的实施，比如高校的大规模扩招，使得本来教育资源就存在
优势的城市户籍子女接受高等教育的机会更多.这些扩招的名额更多的是被城市户籍的子女
占有，农村户籍的子女占比很少,不但没有增强教育代际流动, 还拉大了教育的不公平等程
度。

总体来看, 子女的受教育水平在城乡居民和城乡户籍方面都存在差异, 城市居民和城市
户籍的子女平均受教育水平更高，而且在户籍方面差异更大。根据《义务教育法》第十二条
规定: 适龄儿童、少年免试入学。地方各级人民政府应当保障适龄儿童、少年在户籍所在地
学校就近入学。因此相比居住地而言，户籍的影响作用更大。户籍在更大程度上影响子女能
否上到质量较高的学校。以北京为例, 北京有着大量非京户籍的城市居民, 也就是流动人口。
这些居民的子女也需要北京提供基本的受教育机会, 但是现实是北京的中小学容纳人数有限，
会优先当地户籍人口入学。 这就使得流动人口的子女很难上到高质量的学校, 大多只能去私
立学校或者教学质量一般甚至念下的学校。因此户籍比居住地的影响更大。



### 子女受教育水平的地区差异

```{r tab-child-edu-region}
raw %>%
  select(region, Ed) %>%
  mutate(
   Ed = if_else(Ed > 19, 19, Ed)
  ) %>%
  count(region, Ed) %>%
  pivot_wider(
    names_from = region,
    values_from = n
  ) %>%
  select(Ed, `东部` = `3`, `中部` = `2`, `西部` = `1`) %>%
  mutate(
    across(
      .cols = -Ed,
      .fns = ~ .x / sum(.x),
      .names = "{.col}_percent"
    )
  ) %>% 
  
  mutate( across(Ed, as_factor) ) %>%
  bind_rows(
    summarise(., Ed = "total", across(-Ed, sum))
  ) %>%
  mutate(
    across(ends_with("_percent"), scales::percent)
  ) %>%
  mutate(Ed = case_match(
    Ed,
    "1"     ~ "文盲/半文盲",
    "6"     ~ "小学",
    "9"     ~ "初中",
    "12"    ~ "高中",
    "15"    ~ "大专",
    "16"    ~ "本科",
    "19"    ~ "硕士及上",
    "total" ~ "合计"
  )) %>% 
  gt(caption = "子女受教育水平按地区分布情况")
```


从表 \@ref(tab:tab-child-edu-region)  中可以看出，子女受教育水平存在着地区上的差异。其中，总体上东部高于
中部，中部又高于西部。在小学及以下学历占比方面，东部地区占比为 25.22%， 中部地区
占比为 34.02%，西部地区占比为 51.10%。在初中及高中学历占比方面，东部地区占比为
53.85%，中部地区占比为 50.1%，西部地区占比为 38.39%。在大专及以上学历占比方面，东
部地区占比为 20.93%, 中部地区占比为 15.88%, 西部地区占比为 10.51%。在基础教育方面，
地区差异很大，尤其是西部地区，竟然一半人数的学历在小学及以下水平，远高于中部和东
部地区。在中等教育方面，中部和东部差距不大，西部占比较小。在高等教育方面，东部地
区的比例是西部地区的二倍。可以看出，地位位置影响到经济发展水平，进而影响到受教育
水平。一个地区的经济和教育水平紧密相关，而我国沿海和内陆地区存在较大的经济差异，
这就导致了地区之间教育水平的差异,使得教育水平总体上呈现出从东到西递减的趋势。
家应该加强中西部地区的教育经费的投入，尤其是西部地区，从而减轻“贫穷代际传递”所
造成的“教育代际传递”，促进教育的公平。

